<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Регистрация — awtik-cash</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='styles/register_style.css') }}?v={{ config['VERSION'] }}">

    <link rel="icon" type="image/png" href="{{ url_for('static', filename='images/icon/favicon-96x96.png') }}" sizes="96x96" />
    <link rel="icon" type="image/svg+xml" href="{{ url_for('static', filename='images/icon/favicon.svg') }}" />
    <link rel="shortcut icon" href="{{ url_for('static', filename='images/icon/favicon.ico') }}" />
    <link rel="apple-touch-icon" sizes="180x180" href="{{ url_for('static', filename='images/icon/apple-touch-icon.png') }}" />
    <meta name="apple-mobile-web-app-title" content="awtik-cash" />
    <link rel="manifest" href="{{ url_for('static', filename='images/icon/site.webmanifest') }}" />
</head>
<body>

    <div class="main-container">
        <!-- Брендинг -->
        <div class="brand">
            <h1>awtik-cash</h1>
            <p>Создайте новый аккаунт</p>
        </div>

        <!-- Flash-сообщения -->
        {% with messages = get_flashed_messages(with_categories=True) %}
            {% for cat, message in messages %}
                <span class="flash-{{ cat }}">{{ message }}</span>
            {% endfor %}
        {% endwith %}

        <!-- Форма регистрации -->
        <form class="register-form" action="{{ url_for('register') }}" method="post">
            <div class="input-group">
                <label for="username">Имя пользователя</label>
                <input type="text" 
                       id="username" 
                       name="username" 
                       class="input-field" 
                       placeholder="Придумайте имя пользователя"
                       required 
                       value="{{ username if username else ''}}">
                <div class="validation-indicator"></div>
            </div>

            <div class="input-group">
                <label for="email">Email адрес</label>
                <input type="email" 
                       id="email" 
                       name="email" 
                       class="input-field" 
                       placeholder="Введите ваш email"
                       required 
                       value="{{ email if email else ''}}">
                <div class="validation-indicator"></div>
            </div>

            <div class="input-group">
                <label for="password">Пароль</label>
                <input type="password" 
                       id="password" 
                       name="password" 
                       class="input-field" 
                       placeholder="Придумайте надежный пароль"
                       required 
                       value="{{ password if password else ''}}">
                <div class="validation-indicator"></div>
                
                <!-- Индикатор сложности пароля -->
                <div class="password-strength"></div>
                <div class="password-strength-label"></div>
                
                <!-- Требования к паролю -->
                <div class="password-requirements">
                    <div class="requirements-title">Требования к паролю:</div>
                    <div class="requirement" id="req-length">
                        <span class="requirement-icon">●</span>
                        <span>Минимум 8 символов</span>
                    </div>
                    <div class="requirement" id="req-uppercase">
                        <span class="requirement-icon">●</span>
                        <span>Хотя бы одна заглавная буква</span>
                    </div>
                </div>
            </div>

            <div class="input-group">
                <label for="password_confirm">Подтверждение пароля</label>
                <input type="password" 
                       id="password_confirm" 
                       name="password_confirm" 
                       class="input-field" 
                       placeholder="Повторите пароль"
                       required 
                       value="{{ password_confirm if password_confirm else ''}}">
                <div class="validation-indicator"></div>
                <div class="password-match"></div>
            </div>

            <button type="submit" class="submit-btn">Создать аккаунт</button>
        </form>

        <!-- Декоративная линия -->
        <div class="decorative-line"></div>

        <!-- Навигационные ссылки -->
        <div class="nav-links">
            <a href="{{ url_for('login') }}" class="nav-link primary">
                Уже есть аккаунт? Войти
            </a>
            
            <a href="{{ url_for('home') }}" class="nav-link">
                ← Вернуться на главную
            </a>
        </div>
    </div>
    <script src="{{ url_for('static', filename='js/register.js') }}?v={{ config['VERSION'] }}"></script>
</body>
</html>